@using EstateEase.Models.ViewModels
@model PropertyViewModel
@{
    ViewData["Title"] = "View Property";
    Layout = "_AdminLayout";
}

<div class="row">
    <div class="col-md-12">
        <div class="card shadow-sm mb-4">
            <div class="card-header py-4 bg-dark text-white">
                <h5 class="card-title mb-0 fw-bold">View Property</h5>
            </div>

            <div class="card-body p-5">
                <h5 class="card-title mb-5 fw-bold">Property Details</h5>

                <div class="row g-5">
                    <div class="col-xl-12">
                        <div class="form-group row mb-3">
                            <label class="col-lg-2 col-form-label">Title</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Title" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-2 col-form-label">Content</label>
                            <div class="col-lg-9">
                                <div class="form-control" style="min-height: 200px; overflow-y: auto;">
                                    @Html.Raw(Model.Content)
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-6">
                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Property Type</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.PropertyType" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Bedrooms</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Bedrooms" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Bathrooms</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Bathrooms" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Selling Type</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.SellingType" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Address</label>
                            <div class="col-lg-9">
                                <textarea class="form-control" rows="4" readonly>@Model.Address</textarea>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-6">
                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Balcony</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Balcony" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Kitchen</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Kitchen" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Hall</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Hall" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Total Floors</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.TotalFloors" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Price (â‚±)</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Price.ToString("N2")" readonly>
                            </div>
                        </div>

                        <div class="form-group row mb-3">
                            <label class="col-lg-3 col-form-label">Area (sq m)</label>
                            <div class="col-lg-9">
                                <input class="form-control" value="@Model.Size.ToString("N2")" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="col-xl-12">
                        <hr class="section-divider my-4" style="height: 2px;">
                        <h5 class="card-title mt-4 mb-4 fw-bold">Property Features</h5>

                        <div class="form-group row mb-3">
                            <div class="col-lg-9 offset-lg-2">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasSwimmingPool ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">Swimming Pool</span>
                                        </div>
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasParking ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">Parking</span>
                                        </div>
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasGym ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">Gym</span>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasSecurity ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">Security</span>
                                        </div>
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasElevator ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">Elevator</span>
                                        </div>
                                        <div class="feature-item mb-3">
                                            <i
                                                class="bi @(Model.HasCCTV ? "bi-check-circle-fill text-success" : "bi-x-circle-fill text-danger")"></i>
                                            <span class="ms-2">CCTV</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="section-divider my-4" style="height: 2px;">
                    <h5 class="card-title mb-4 mt-4 fw-bold">Property Images</h5>

                    @if (!string.IsNullOrEmpty(Model.PropertyImagePaths))
                    {
                        <div class="row mb-4">
                            @foreach (var imagePath in Model.PropertyImagePaths.Split(',').Where(x =>
                           !string.IsNullOrEmpty(x)))
                            {
                                <div class="col-md-4 mb-3">
                                    <div class="image-container">
                                        <img src="~/uploads/property-images/@imagePath" class="img-fluid rounded shadow"
                                            alt="Property Image">
                                    </div>
                                </div>
                            }
                        </div>
                    }

                    <div class="row mb-4">
                        @if (!string.IsNullOrEmpty(Model.FloorPlanImagePath))
                        {
                            <div class="col-md-4 mb-3">
                                <h6 class="mb-2">Floor Plan</h6>
                                <div class="image-container">
                                    <img src="~/uploads/floor-plans/@Model.FloorPlanImagePath"
                                        class="img-fluid rounded shadow" alt="Floor Plan">
                                </div>
                            </div>
                        }

                        @if (!string.IsNullOrEmpty(Model.BasementPlanImagePath))
                        {
                            <div class="col-md-4 mb-3">
                                <h6 class="mb-2">Basement Plan</h6>
                                <div class="image-container">
                                    <img src="~/uploads/basement-plans/@Model.BasementPlanImagePath"
                                        class="img-fluid rounded shadow" alt="Basement Plan">
                                </div>
                            </div>
                        }

                        @if (!string.IsNullOrEmpty(Model.GroundFloorPlanImagePath))
                        {
                            <div class="col-md-4 mb-3">
                                <h6 class="mb-2">Ground Floor Plan</h6>
                                <div class="image-container">
                                    <img src="~/uploads/ground-floor-plans/@Model.GroundFloorPlanImagePath"
                                        class="img-fluid rounded shadow" alt="Ground Floor Plan">
                                </div>
                            </div>
                        }
                    </div>
                </div>

                <style>
                    .image-container {
                        aspect-ratio: 16/9;
                        overflow: hidden;
                        border-radius: 8px;
                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                    }

                    .image-container img {
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                        transition: transform 0.3s ease;
                    }

                    .image-container:hover img {
                        transform: scale(1.05);
                    }
                </style>
                <div class="col-xl-12">
                    <hr class="section-divider my-4" style="height: 2px;">
                    <h5 class="card-title mb-4 mt-4 fw-bold">Status</h5>
                    <div class="row">
                        <div class="col-xl-6">
                            <div class="form-group row mb-3">
                                <label class="col-lg-3 col-form-label">Status</label>
                                <div class="col-lg-9">
                                    <input class="form-control" value="@Model.Status" readonly>
                                </div>
                            </div>

                            <div class="form-group row mb-3">
                                <label class="col-lg-3 col-form-label">Featured Property</label>
                                <div class="col-lg-9">
                                    <input class="form-control" value="@(Model.IsFeatured ? "Yes" : "No")" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-12">
                    <hr class="section-divider my-4" style="height: 2px;">
                    <div class="form-group row">
                        <div class="col-lg-9 offset-lg-5">
                            <a asp-controller="Property" asp-action="Edit" asp-route-id="@Model.Id"
                                class="btn btn-dark px-5 custom-rounded">Edit Property</a>
                            <a asp-controller="Property" asp-action="ViewProperty"
                                class="btn btn-outline-primary ms-2 custom-rounded">Back to List</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<style>
    .content.container-fluid {
        padding-top: 0 !important;
    }

    .form-group {
        margin-bottom: 2rem;
    }

    .custom-rounded {
        border-radius: 12px;
    }

    .form-control {
        padding: 0.75rem 1rem;
        border-radius: 0.5rem;
        border: 1px solid #e3e3e3;
        background-color: #f8f9fa;
    }

    .col-form-label {
        padding-top: calc(0.75rem + 1px);
        padding-bottom: calc(0.75rem + 1px);
    }

    .card {
        margin-bottom: 2rem;
    }

    .card-header {
        border-bottom: 1px solid rgba(0, 0, 0, .1);
    }

    .btn {
        padding: 0.75rem 1.5rem;
        font-weight: 500;
    }

    h4.card-title {
        font-size: 1.5rem;
    }

    h5.card-title {
        font-size: 1.25rem;
    }

    .section-divider {
        margin: 3rem 0;
        border-top: 1px solid #e9ecef;
    }
</style>